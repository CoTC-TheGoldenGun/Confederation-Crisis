law_groups = {
	status_of_women = {
		law_type = realm
	}
	revoke_title_law = {
		law_type = realm
	}
}

laws = {
	# Status of Women
	status_of_women_0 = {
		group = status_of_women

		potential = {
			has_dlc = "Conclave"
			holy_order = no

			holder_scope = {
				NOR = {
					has_religion_feature = religion_equal
					has_religion_feature = religion_feature_bon

					has_game_rule = {
						name = gender
						value = historical
					}
					has_game_rule = {
						name = gender
						value = all
					}
				}
			}
		}

		allow = {
			trigger_if = {
				limit = {
					OR = {
						has_law = status_of_women_0
						has_law = status_of_women_1
						has_law = status_of_women_2
						has_law = status_of_women_3
						has_law = status_of_women_4
					}
				}
				has_law = status_of_women_1
			}
			holder_scope = {
				show_scope_change = no

				trigger_if = {
					limit = { has_religion_feature = religion_matriarchal }

					NOT = { has_religion_feature = religion_matriarchal }
				}
			}
		}

		pass_effect = {
			log = "status_of_women_0 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "status_of_women_0 ([This.GetFullBaseName])"
			trigger_switch = {
				on_trigger = has_law

				status_of_women_1 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
				}
				status_of_women_2 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
				}
				status_of_women_3 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
				}
				status_of_women_4 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = TOOLTIP_DISALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_COMMANDERS }
				}
			}

			set_allow_feminism = no
			set_allow_gender_laws = no

			hidden_effect = {
				revoke_law = status_of_women_1
				revoke_law = status_of_women_2
				revoke_law = status_of_women_3
				revoke_law = status_of_women_4
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	status_of_women_1 = {
		group = status_of_women

		potential = {
			is_law_potential = status_of_women_0
		}

		allow = {
			OR = {
				has_law = status_of_women_0
				has_law = status_of_women_2
			}
			holder_scope = {
				show_scope_change = no

				trigger_if = {
					limit = { has_religion_feature = religion_matriarchal }

					NOT = { has_religion_feature = religion_matriarchal }
				}
				trigger_else_if = {
					limit = { has_religion_feature = religion_patriarchal }

					NOT = { has_religion_feature = religion_patriarchal }
				}
			}
		}

		pass_effect = {
			log = "status_of_women_1 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "status_of_women_1 ([This.GetFullBaseName])"
			trigger_switch = {
				on_trigger = has_law

				status_of_women_0 = {
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_SPYMASTER }
				}
				status_of_women_2 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
				}
				status_of_women_3 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
				}
				status_of_women_4 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = TOOLTIP_DISALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_COMMANDERS }
				}
			}

			set_allow_feminism = no
			set_allow_gender_laws = no

			hidden_effect = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_2
				revoke_law = status_of_women_3
				revoke_law = status_of_women_4
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	status_of_women_2 = {
		group = status_of_women

		potential = {
			is_law_potential = status_of_women_0
		}

		allow = {
			OR = {
				has_law = status_of_women_1
				has_law = status_of_women_3
			}
			holder_scope = {
				show_scope_change = no

				trigger_if = {
					limit = { has_religion_feature = religion_matriarchal }

					NOT = { has_religion_feature = religion_matriarchal }
				}
				trigger_else_if = {
					limit = { has_religion_feature = religion_patriarchal }

					NOT = { has_religion_feature = religion_patriarchal }
				}
			}
		}

		pass_effect = {
			log = "status_of_women_2 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "status_of_women_2 ([This.GetFullBaseName])"

			trigger_switch = {
				on_trigger = has_law

				status_of_women_0 = {
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_TREASURER }
				}
				status_of_women_1 = {
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_TREASURER }
				}
				status_of_women_3 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
				}
				status_of_women_4 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = TOOLTIP_DISALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_COMMANDERS }
				}
			}

			set_allow_feminism = no
			set_allow_gender_laws = no

			hidden_effect = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_1
				revoke_law = status_of_women_3
				revoke_law = status_of_women_4
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	status_of_women_3 = {
		group = status_of_women

		potential = {
			is_law_potential = status_of_women_0
		}

		allow = {
			OR = {
				has_law = status_of_women_2
				has_law = status_of_women_4
			}
			holder_scope = {
				show_scope_change = no

				trigger_if = {
					limit = { has_religion_feature = religion_matriarchal }

					NOT = { has_religion_feature = religion_matriarchal }
				}
				trigger_else_if = {
					limit = { has_religion_feature = religion_patriarchal }

					NOT = { has_religion_feature = religion_patriarchal }
				}
			}
		}

		pass_effect = {
			log = "status_of_women_3 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "status_of_women_3 ([This.GetFullBaseName])"

			trigger_switch = {
				on_trigger = has_law

				status_of_women_0 = {
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_SPYMASTER
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_CHANCELLOR
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_TREASURER
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_MARSHAL
					}
				}
				status_of_women_1 = {
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_CHANCELLOR
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_TREASURER
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_MARSHAL
					}
				}
				status_of_women_2 = {
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_MARSHAL
					}
				}
				status_of_women_4 = {
					custom_tooltip = {
						text = TOOLTIP_DISALLOW_TRUE_COGNATIC
					}
					custom_tooltip = {
						text = TOOLTIP_DISALLOW_FEMALE_COMMANDERS
					}
				}
			}

			set_allow_feminism = no
			set_allow_gender_laws = yes

			hidden_effect = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_1
				revoke_law = status_of_women_2
				revoke_law = status_of_women_4
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	status_of_women_4 = {
		group = status_of_women

		potential = {
			is_law_potential = status_of_women_0
		}

		allow = {
			has_law = status_of_women_3

			holder_scope = {
				show_scope_change = no

				trigger_if = {
					limit = { has_religion_feature = religion_patriarchal }

					NOT = { has_religion_feature = religion_patriarchal }
				}
			}
		}

		pass_effect = {
			log = "status_of_women_4 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "status_of_women_4 ([This.GetFullBaseName])"

			trigger_switch = {
				on_trigger = has_law

				status_of_women_0 = {
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_SPYMASTER
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_CHANCELLOR
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_TREASURER
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_MARSHAL
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_TRUE_COGNATIC
					}
					custom_tooltip = {
						text = TOOLTIP_ALLOW_FEMALE_COMMANDERS
					}
				}
				status_of_women_1 = {
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = TOOLTIP_ALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_COMMANDERS }
				}
				status_of_women_2 = {
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = TOOLTIP_ALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_COMMANDERS }
				}
				status_of_women_3 = {
					custom_tooltip = { text = TOOLTIP_ALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_COMMANDERS }
				}
			}

			set_allow_feminism = yes
			set_allow_gender_laws = yes

			hidden_effect = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_1
				revoke_law = status_of_women_2
				revoke_law = status_of_women_3
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	# Revoke Title
	revoke_title_law_0 = {
		group = revoke_title_law
		default = yes

		potential = {
			has_dlc = "Conclave"

			holder_scope = {
				is_nomadic = no
			}
		}

		allow = {
			trigger_if = {
				limit = {
					OR = {
						has_law = revoke_title_law_0
						has_law = revoke_title_law_1
						has_law = revoke_title_law_2
					}
				}
				has_law = revoke_title_law_1
			}
		}

		pass_effect = {
			log = "revoke_title_law_0 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "revoke_title_law_0 ([This.GetFullBaseName])"

			set_allow_title_revokation = no
			set_allow_free_infidel_revokation = no

			hidden_effect = {
				revoke_law = revoke_title_law_1
				revoke_law = revoke_title_law_2
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	revoke_title_law_1 = {
		group = revoke_title_law

		potential = {
			is_law_potential = revoke_title_law_0
		}

		allow = {
			OR = {
				has_law = revoke_title_law_0
				has_law = revoke_title_law_2
			}
		}

		pass_effect = {
			log = "revoke_title_law_1 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "revoke_title_law_1 ([This.GetFullBaseName])"
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = no

			hidden_effect = {
				revoke_law = revoke_title_law_0
				revoke_law = revoke_title_law_2
			}
		}

		ai_will_do = {
			factor = 0.05

			trigger = {
				has_law = revoke_title_law_0
			}
		}
	}

	revoke_title_law_2 = {
		group = revoke_title_law

		potential = {
			is_law_potential = revoke_title_law_0
		}

		allow = {
			has_law = revoke_title_law_1

			holder_scope = {
				show_scope_change = no

				trigger_if = {
					limit = { has_religion_feature = religion_cosmopolitan }

					NOT = { has_religion_feature = religion_cosmopolitan }
				}
			}
		}

		pass_effect = {
			log = "revoke_title_law_2 pass ([This.GetFullBaseName])"
		}

		effect = {
			log = "revoke_title_law_2 ([This.GetFullBaseName])"

			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes

			hidden_effect = {
				revoke_law = revoke_title_law_0
				revoke_law = revoke_title_law_1
			}
		}

		ai_will_do = {
			factor = 0.01

			mult_modifier = {
				factor = 10
				holder_scope = { trait = radical }
			}
		}
	}
}
