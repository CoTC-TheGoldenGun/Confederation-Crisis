#these are governments tied to specific ideologies instead of following the normal system

feudal_governments = {

    holy_terran_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = {
            CASTLE
            CITY
            TEMPLE
            TRADE_POST
            FORT
            HOSPITAL
        }
        accepts_liege_governments = {
        }
        potential = {
            NOT = { trait = hiver_implant }
            holy_order = no
            tier = EMPEROR
            e_terran_confederation = { holder = PREV }
            c_sol = { holder = PREV }
            b_earth = { holder = PREV }
            religion = terran_imperial_cult
        }

        forced_contract = {
            military_base_government
        }
        no_vassal_tax = {
            military_base_government
            military_command
        }
        vassal_call_to_arms = {
            hivemind_government
            merchant_republic_government
            neofeudal_government
            pirate_kingdom
            pirate_republic
            military_command
            military_government
            imperialistic_government
            npc_civil_government
            pc_civil_government
            npc_technocratic_government
            pc_technocratic_government
            npc_rectorial_government
            pc_rectorial_government
            npc_theocratic_government
            pc_theocratic_government
        }

        #frame_suffix = "_republic"
        title_prefix = "military_"
        color = { 255 0 127 }

        barons_need_dynasty = no
        can_build_tribal = no
        uses_piety_for_law_change = yes
        uses_jizya_tax = yes
        allow_title_revokation = yes
        allow_looting = yes
        can_imprison_without_reason = yes
        can_revoke_without_reason = yes
        free_retract_vassalage = yes
        aggression = 3
    }

	neofeudal_government = {
		preferred_holdings = { CASTLE }
		allowed_holdings = {
			CASTLE
			FORT
			HOSPITAL
		}
		accepts_liege_governments = {
			neofeudal_government
		}
		potential = {
			religion = neo_feudal
			NOT = { trait = hiver_implant }
			holy_order = no
			NOT = { is_government_potential = merchant_republic_government }
			OR = {
				AND = {
					tier = BARON
					capital_holding = { holding_type = castle }
				}
				AND = {
					higher_tier_than = BARON
					OR = {
						has_law = local_main_government_type_0
						has_law = local_secondary_government_type_0
					}
				}

			}
		}

		vassal_call_to_arms = {
			military_command
			military_monarchy
			corporate_republic
			administrative_republic
			merchant_republic_government
			military_republic
			administrative_monarchy
			administrative_directorate
			corporate_directorate
			corporate_monarchy
			hivemind_government
			pirate_kingdom
			pirate_republic
			military_government
            imperialistic_government
            neofeudal_government
            npc_civil_government
            pc_civil_government
            npc_technocratic_government
            pc_technocratic_government
            npc_rectorial_government
            pc_rectorial_government
            npc_theocratic_government
            pc_theocratic_government
		}

		#frame_suffix = "_republic"
		title_prefix = "military_"
		color = { 255 0 0 }

		barons_need_dynasty = no
		can_build_tribal = no
		uses_piety_for_law_change = yes
	}
}

republic_governments = {

		#megacorp republic basically
	merchant_republic_government = {
		preferred_holdings = { CITY }
		allowed_holdings = {
			TRADE_POST
			CITY
			FAMILY_PALACE
			FORT
			HOSPITAL
		}
		accepts_liege_governments = {
			#corporate_republic
			#corporate_monarchy
			#corporate_directorate
			#military_republic
			#administrative_republic
			merchant_republic_government
			military_government
            imperialistic_government
            npc_civil_government
            pc_civil_government
            npc_technocratic_government
            pc_technocratic_government
            npc_rectorial_government
            pc_rectorial_government
            npc_theocratic_government
            pc_theocratic_government
		}
		free_revoke_on_governments = {
			hivemind_government
			pirate_kingdom
			pirate_republic
		}
		frame_suffix = "_merchantrepublic"
		potential = {
			NOR = {
				is_government_potential = hivemind_government
				is_government_potential = pirate_republic
				is_government_potential = holy_terran_government
			}

			OR = {
				# Does not require being a patrician, to allow creation of new Merchant Republics
				AND = {
					# Require at least one province and be Duke tier or higher
					OR = {
						AND ={
							stewardship = 30
							wealth = 1000
						}
						has_dynasty_modifier = patrician_family
						has_game_started = no
					}

                    NOT = { religion = neo_socialist }
                    NOT = { religion = neo_feudal }
                    NOT = { religion = terran_imperial }
                    NOT = { religion = terran_imperial_cult }
					higher_real_tier_than = COUNT
					num_of_count_titles >= 1
					capital_holding = {
						holding_type = city
					}

					# MR can't be under MR
					trigger_if = {
						limit = { independent = no }

						liege_before_war = {
							is_merchant_republic = no
						}
					}
				}

				# Patrician requirements
				AND = {
					is_patrician = yes

					# Liege must be MR
					liege_before_war = {
						is_merchant_republic = yes

						# MR can't be under MR
						trigger_if = {
							limit = { independent = no }

							liege_before_war = {
								is_merchant_republic = no
							}
						}
					}
				}
			}
		}

		color = { 0 0 192 }

		merchant_republic = yes

		dukes_called_kings = yes
		barons_need_dynasty = no

		can_imprison_without_reason = no
		can_revoke_without_reason = no
		can_grant_kingdoms_and_empires_to_other_government = yes
		#can_usurp_kingdoms_and_empires = no
		#have_gender_laws = no
		#allows_matrilineal_marriage = no
		landed_inheritance = no
		no_vassal_tax = {
			military_command
		}
		ignore_in_vassal_limit_calculation = {
			military_command
		}
		vassal_call_to_arms = {
			#military_monarchy
			#corporate_republic
			#administrative_republic
			#military_republic
			#administrative_monarchy
			#administrative_directorate
			#corporate_directorate
			#corporate_monarchy
			hivemind_government
			merchant_republic_government
			neofeudal_government
			pirate_kingdom
			pirate_republic
			military_command
			military_government
            imperialistic_government
            npc_civil_government
            pc_civil_government
            npc_technocratic_government
            pc_technocratic_government
            npc_rectorial_government
            pc_rectorial_government
            npc_theocratic_government
            pc_theocratic_government
		}
		can_build_tribal = no
		uses_piety_for_law_change = yes

		character_modifier = {
			retinue_maintenence_cost = 2
		}
	}
}
